{% extends 'myapp/base.html' %}
{% block header %}
<!-- Background video -->
<div class="text-center position-relative">
    <video class="video-fluid z-depth-1 " playsinline autoplay loop muted width="100%" height="auto">
        <source src="https://django-blog-app-moto-labo.s3.ap-northeast-3.amazonaws.com/media/video/Beach+-+50642.mp4" type="video/mp4" />
        <source src="" type="video/ogv">
        <source src="" type="video/webm">
    </video>
    <div class="align-items-center position-absolute top-50 start-50 translate-middle">
        <div class="text-white">
            <h1 class="mb-3 fw-light">{{ request.site.siteconfig.meta_title }}</h1>
            <h4 class="mb-3 fw-light">{{ request.site.siteconfig.top_title }}</h4>
            <h6 class="mb-3 fw-light">{{ request.site.siteconfig.top_subtitle }}</h6>
        </div>
    </div>
</div>
<!--/video-area-->
{% endblock %}
{% block content %}
<main class="container mt-3">
    <!-- Background image -->
    <div class="row row-cols-1 row-cols-md-3 g-4">
        {% for item in post_list %}
        <div class="col mt-5">
            <div class="card bg-image hover-overlay ripple" data-mdb-ripple-color="light">
                {% if item.thumbnail %}
                <img src="{{ item.thumbnail.url }}" class="img-fluid" alt="{{ item.title }}" />
                {% else %}
                <img src="https://mdbootstrap.com/img/new/standard/nature/111.jpg" class="img-fluid" alt="{{ item.title }}" />
                {% endif %}
                <a href="{% url 'myapp:post_detail' item.id %}">
                    <div class="mask" style="background-color: rgba(251, 251, 251, 0.15);"></div>
                </a>
            </div>
            <div class="card-body">
                <h4 class="card-title fw-light">{{ item.title }}</h4>
                <hr>
                <p class="card-text">
                    {{ item.content | safe | truncatechars_html:130 }}
                </p>
                <div class="d-flex justify-content-between">
                    <i class="far fa-thumbs-up mt-2">&nbsp;{{ item.like_count }}</i>
                    <p class="mb-0 mt-2">{{ item.category }}</p>
                    <a href="{% url 'myapp:post_detail' item.id %}" class="btn btn-light" data-mdb-ripple-color="dark">もっと読む…</a>
                </div>
            </div>
            <div class="card-footer text-center mt-1">
                <small class="text-muted ms-3 fs-6 fw-light">by&nbsp;{{ item.author }}&nbsp;at {{ item.created_at.date }}</small>
            </div>
        </div>
        {% endfor %}
    </div>
    <a href="{% url 'myapp:post_list' %}" class="btn btn-primary mt-3" style="background-color: #33333374;" data-mdb-ripple-color="white">全ての記事を見る</a>
</main>
{% endblock %}
